<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>이상형 월드컵</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f9fa;
      text-align: center;
      padding: 20px;
    }
    .match-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      position: relative;
      height: 300px;
    }
    .candidate-card {
      width: 200px;
      height: 200px;
      overflow: hidden;
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s, border-color 0.3s;
    }
    .candidate-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .candidate-card:hover {
      border-color: #007bff;
    }
    .candidate-card.selected {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1.5);
      z-index: 10;
      border-color: #28a745;
      transition: transform 0.6s, border-color 0.6s;
    }
    #winner {
      margin-top: 20px;
      display: none;
      font-size: 24px;
      font-weight: bold;
      color: #28a745;
    }
  </style>
</head>
<body>
  <h1>이상형 월드컵</h1>
  <div id="match-container" class="match-container"></div>
  <div id="winner">우승: <span id="winner-name"></span></div>

  <script>
    // 예제 후보
    const candidates = [
      { name: '후보 1', photo: 'https://via.placeholder.com/200' },
      { name: '후보 2', photo: 'https://via.placeholder.com/200/FF0000' },
      { name: '후보 3', photo: 'https://via.placeholder.com/200/00FF00' },
      { name: '후보 4', photo: 'https://via.placeholder.com/200/0000FF' },
    ];

    let currentRound = [];
    let nextRound = [];

    // 대회 시작
    function startTournament() {
      currentRound = [...candidates];
      showMatch();
    }

    // 일대일 매치 화면 표시
    function showMatch() {
      const matchContainer = document.getElementById('match-container');
      matchContainer.innerHTML = '';

      if (currentRound.length === 1) {
        // 우승자가 나왔을 때
        document.getElementById('winner-name').textContent = currentRound[0].name;
        document.getElementById('winner').style.display = 'block';
        return;
      }

      const [first, second] = currentRound.splice(0, 2);

      [first, second].forEach((candidate, index) => {
        const div = document.createElement('div');
        div.className = 'candidate-card';
        div.innerHTML = `<img src="${candidate.photo}" alt="${candidate.name}">`;
        div.onclick = () => selectWinner(candidate, index === 0 ? second : first);
        matchContainer.appendChild(div);
      });
    }

    // 사용자가 후보를 선택했을 때
    function selectWinner(winner, loser) {
      const matchContainer = document.getElementById('match-container');
      const cards = matchContainer.querySelectorAll('.candidate-card');

      // 선택된 후보에 애니메이션 추가
      cards.forEach((card, index) => {
        if (card.querySelector('img').alt === winner.name) {
          card.classList.add('selected');
        } else {
          card.style.opacity = '0';
          card.style.transition = 'opacity 0.6s';
        }
      });

      // 애니메이션 후 다음 라운드로 진행
      setTimeout(() => {
        nextRound.push(winner);
        if (currentRound.length === 0) {
          currentRound = [...nextRound];
          nextRound = [];
        }
        showMatch();
      }, 1000);
    }

    // 대회 초기화 및 시작
    startTournament();
  </script>
</body>
</html>
